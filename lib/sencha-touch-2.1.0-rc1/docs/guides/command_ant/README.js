Ext.data.JsonP.command_ant({"title":"Ant Integration","guide":"<h1>Ant Integration</h1>\n<div class='toc'>\n<p><strong>Contents</strong></p>\n<ol>\n<li><a href='#!/guide/command_ant-section-1'>x-sencha-command</a></li>\n<li><a href='#!/guide/command_ant-section-2'>x-generate</a></li>\n<li><a href='#!/guide/command_ant-section-3'>x-compress-js - TODO</a></li>\n<li><a href='#!/guide/command_ant-section-4'>x-compress-css - TODO</a></li>\n<li><a href='#!/guide/command_ant-section-5'>x-strip-js - TODO</a></li>\n<li><a href='#!/guide/command_ant-section-6'>sencha ant - TODO</a></li>\n</ol>\n</div>\n\n<p>In addition to the command line interface described in the <a href=\"#/guide/command\">Getting Started</a>\nguide, Sencha Command also provides direct interfaces for use in Ant.</p>\n\n<p><p class='screenshot'><img src='guides/command_ant/../command/sencha-command-128.png' alt=''><span></span></p></p>\n\n<p><a href=\"http://ant.apache.org/\">Ant</a> has long been a pillar of the Java development community,\nbut at its core, Ant is an XML-based, cross-platform scripting platform. We call it a\n\"platform\" rather than a \"language\" because Ant can easily incorporate libraries of code\nin JAR form, or you can use one of the many supported scripting languages as part of your\nAnt script.</p>\n\n<p>Ant can, of course, call other programs (like Sencha Command), passing arguments and\nprocessing exit codes, but what Ant is particularly good at is manipulating files. This\nis because Ant was designed for use with build scripts.</p>\n\n<p>As touched on in the <a href=\"#/guide/command_advanced\">Advanced Sencha Cmd</a> guide, Sencha Cmd\nis delivered as a JAR file and it exposes its core functionality as an Ant Library (or\n<code>antlib</code>). The command line level of Sencha Command, as well as SDK-specific processing\nare implemented on top of this layer. So anything you can do in one, you can do in the\nother.</p>\n\n<p><p class='screenshot'><img src='guides/command_ant/../command_advanced/sencha-command-diagram.png' alt=''><span></span></p></p>\n\n<p>If you are using Ant, it is better to interface to Sencha Command at this level rather\nthan make repeated calls through the command line interface.</p>\n\n<pre><code>&lt;taskdef resource=\"com/sencha/ant/antlib.xml\" \n         classpath=\"${sencha.command.dir}/sencha.jar\"/&gt;\n</code></pre>\n\n<h2 id='command_ant-section-1'>x-sencha-command</h2>\n\n<p>This command is equivalent to the command line interface. The arguments are placed in the\nbody text of this tag, one argument per line. Spaces are trimmed at both ends, so indent\nlevel is not significant. A good use of indentation is to clarify the command structure,\nlike this:</p>\n\n<pre><code>&lt;x-sencha-command&gt;\n    compile\n        --classpath=app,sdk/src\n        page\n            --in=app/index.html\n            --out=build/index.html\n&lt;/x-sencha-command&gt;\n</code></pre>\n\n<p>Because each line is an argument, spaces are not special and should not be escaped or quoted.</p>\n\n<p>Ant properties are expanded, so the following (fairly conventional style) also works:</p>\n\n<pre><code>&lt;x-sencha-command&gt;\n    compile\n        --classpath=${app.dir},${sdk.dir}/src\n        page\n            --in=${app.dir}/index.html\n            --out=${build.dir}/index.html\n&lt;/x-sencha-command&gt;\n</code></pre>\n\n<p>Finally, comments are supported so you can document the command or disable parts temporarily\nwithout deleting them. Also, blank lines are skipped:</p>\n\n<pre><code>&lt;x-sencha-command&gt;\n    compile\n        # Include the app folder and the sdk/src folder\n        --classpath=${app.dir},${sdk.dir}/src\n\n        # Turn off debugging (comment next line to leave debug enabled):\n        # --debug=false\n\n        page\n            # The application main page:\n            --in=${app.dir}/index.html\n\n            # The compiled page goes in build folder along with \"all-classes.js\":\n            --out=${build.dir}/index.html\n&lt;/x-sencha-command&gt;\n</code></pre>\n\n<h2 id='command_ant-section-2'>x-generate</h2>\n\n<p>This task generates output from templates in two basic modes: <code>file</code> and <code>dir</code>. That is,\nthe template generator can be given a single source file or a source folder.</p>\n\n<h3>Template Engines</h3>\n\n<p>The name of the template file determines the template engine used. Currently there are\ntwo supported template engines:</p>\n\n<ul>\n<li><code>.vm</code> = <a href=\"http://velocity.apache.org/engine/devel/user-guide.html\">Velocity</a></li>\n<li><code>.tpl</code> = <a href=\"http://docs.sencha.com/ext-js/4-1/#!/api/Ext.XTemplate\">XTemplate</a></li>\n</ul>\n\n\n<p>For example, <code>foo.js.vm</code> would be used to generate <code>foo.js</code> using the Velocity engine,\nwhile <code>foo.js.tpl</code> uses XTemplate.</p>\n\n<h3>Sacred Files</h3>\n\n<p>When generating code, files fall into two basic categories: machine maintained and user\nmaintained. It is preferable, however, to provide a starter or skeleton file at initial\ngeneration even for files that will be ultimately user maintained.</p>\n\n<p>This is called a \"sacred\" file and is identified by the source file extension of <code>.default</code>.\nThat is, the source file is just a default and will not replace an existing file.</p>\n\n<p>For example, one might want to generate a starter <code>readme.txt</code> file but preserve whatever\nthe user might have changed during a later regeneration. To do so, the source file would\nbe named <code>readme.txt.default</code>.</p>\n\n<p>There are times when a sacred file is also a template. This is done by adding both\nextensions, for example, <code>readme.txt.vm.default</code>. This <code>readme.txt</code> file is a sacred file\nthat is initially generated using Velocity.</p>\n\n<h3>Parameters</h3>\n\n<p>Template generation requires data, or parameters. The simplest form of parameter uses the\n<code>param</code> attribute:</p>\n\n<pre><code>&lt;x-generate ...&gt;\n    &lt;param name=\"bar\" value=\"42\" /&gt;\n&lt;/x-generate&gt;\n</code></pre>\n\n<p>Parameters can also be loaded from a file, like so:</p>\n\n<pre><code>&lt;x-generate ...&gt;\n    &lt;load file=\"data.properties\"/&gt;\n&lt;/x-generate&gt;\n</code></pre>\n\n<p>The following file types are understood automatically:</p>\n\n<ul>\n<li><code>.cfg</code> or <code>.properties</code> = A standard Java Properties file.</li>\n<li><code>.json</code> = A JSON data file.</li>\n</ul>\n\n\n<p>If the file does not have one of these extensions, but is a properties file or JSON, you\ncan specify the <code>type</code> attribute as <code>json</code> or <code>properties</code>, like so:</p>\n\n<pre><code>&lt;x-generate ...&gt;\n    &lt;load file=\"data.props\" type=\"properties\" /&gt;\n    &lt;load file=\"data\" type=\"json\" /&gt;\n&lt;/x-generate&gt;\n</code></pre>\n\n<p><em>Note</em>: Parameters are applied in the order specified. Duplicate names are replaced if\nthey are encountered.</p>\n\n<h3>x-generate file tofile</h3>\n\n<p>The simplest form of <code>x-generate</code> is using the <code>file</code> attribute to transform a single\ntemplate file to a specified output file:</p>\n\n<pre><code>&lt;x-generate file=\"foo.js.vm\" tofile=\"build/foo.js\"&gt;\n    &lt;param name=\"bar\" value=\"42\" /&gt;\n&lt;/x-generate&gt;\n</code></pre>\n\n<p>The source filename determines how the process will proceed (which template engine to use\nand if it is sacred), but that is all.</p>\n\n<h3>x-generate file todir</h3>\n\n<p>In many cases, you can leave off the target filename and just specify the folder, like this:</p>\n\n<pre><code>&lt;x-generate file=\"foo.js.vm\" todir=\"build\"&gt;\n    &lt;param name=\"bar\" value=\"42\" /&gt;\n&lt;/x-generate&gt;\n</code></pre>\n\n<p>This will generate <code>foo.js</code> (using Velocity) in the <code>build</code> folder.</p>\n\n<p>Beyond avoiding redundancy, this form also allows the source filename to be a template,\nfor example:</p>\n\n<pre><code>&lt;x-generate file=\"${name}.js.vm\" todir=\"build\"&gt;\n    &lt;param name=\"name\" value=\"foobar\" /&gt;\n    &lt;param name=\"bar\" value=\"42\" /&gt;\n&lt;/x-generate&gt;\n</code></pre>\n\n<p>The source file exists with the specified name (that is, <code>${name}.js.vm</code>), but this name\nis transformed using the Velocity engine and the provided parameters to determine the\ntarget filename.</p>\n\n<p>In the above case, <code>foobar.js</code> is generated in the <code>build</code> directory.</p>\n\n<h3>x-generate dir todir</h3>\n\n<p>The final form of <code>x-generate</code> operates on a source folder, and generates content in the\ntarget folder, for example:</p>\n\n<pre><code>&lt;x-generate dir=\"templates/foo\" todir=\"build/foo\"&gt;\n    &lt;param name=\"bar\" value=\"42\" /&gt;\n    &lt;load file=\"data.json\"/&gt;\n&lt;/x-generate&gt;\n</code></pre>\n\n<p>In this form, the generator recursively reads files and subfolders in <code>templates/foo</code> and\napplies the appropriate template engine. It also preserves sacred files.All file and folder\nnames are processed as Velocity templates.</p>\n\n<h2 id='command_ant-section-3'>x-compress-js - TODO</h2>\n\n<p>Compresses JavaScript source according to the following options (attributes):</p>\n\n<pre><code>srcfile: The source file to compress.\noutfile: The output file to generate (defaults to srcfile).\ncharset: The charset of the input/output files.\nheader: Optional text to include in a comment block at the start of the file.\nlinebreak: The column number at which to break lines (default is -1, to not break lines).\nobfuscate: False to not obfuscate local symbols (default is true).\ndisableoptimizations: True to disable all built-in optimizations.\npreservesemi: True to preserve all semicolons.\nverbose: True to enable extra diagnostic messages.\n</code></pre>\n\n<h2 id='command_ant-section-4'>x-compress-css - TODO</h2>\n\n<p>Compresses CSS source according to the following options (attributes):</p>\n\n<pre><code>srcfile: The source file to compress.\noutfile: The output file to generate (defaults to srcfile).\ncharset: The charset of the input/output files.\nheader: Optional text to include in a comment block at the start of the file.\nlinebreak: The column number at which to break lines.\nverbose: True to enable extra diagnostic messages.\n</code></pre>\n\n<h2 id='command_ant-section-5'>x-strip-js - TODO</h2>\n\n<p>This task removes comments (line and/or block) from a JS file. The following options are\nsupported:</p>\n\n<pre><code>srcfile: The source file to strip\noutfile: The output file to generate (defaults to srcfile).\nheader: Optional text to include in a comment block at the start of the file.\nblockcomments : True (the default) to strip block comments (\"/* ... */\").\nlinecomments  : True (the default) to strip line comments (\"//\").\nkeepfirstcomment : True (the default) to keep the first comment in the JS file.\n    This is typically a copyright.\nwhitespace : True to also strip whitespace.\n</code></pre>\n\n<h2 id='command_ant-section-6'>sencha ant - TODO</h2>\n\n<p>To help setting up properties that reference Sencha Command (e.g., \"sencha.command.dir\"),\nSencha Command provides an \"ant\" command that mimics the normal Ant command line.</p>\n\n<pre><code>sencha ant -Dfoo=bar build\n</code></pre>\n\n<p>The following subset of the Ant command line is supported:</p>\n\n<pre><code>-diagnostics           print information that might be helpful to\n                       diagnose or report problems.\n-debug, -d             print debugging information\n-lib &lt;path&gt;            specifies a path to search for jars and classes\n-logfile &lt;file&gt;        use given file for log\n  -l     &lt;file&gt;                ''\n-logger &lt;classname&gt;    the class which is to perform logging\n-listener &lt;classname&gt;  add an instance of class as a project listener\n-noinput               do not allow interactive input\n-buildfile &lt;file&gt;      use given buildfile\n  -file    &lt;file&gt;              ''\n  -f       &lt;file&gt;              ''\n-D&lt;property&gt;=&lt;value&gt;   use value for given property\n-keep-going, -k        execute all targets that do not depend\n                       on failed target(s)\n-propertyfile &lt;name&gt;   load all properties from file with -D\n                       properties taking precedence\n-inputhandler &lt;class&gt;  the class which will handle input requests\n-nice  number          A niceness value for the main thread:\n                       1 (lowest) to 10 (highest); 5 is the default\n-nouserlib             Run ant without using the jar files from\n                       ${user.home}/.ant/lib\n-noclasspath           Run ant without using CLASSPATH\n-autoproxy             Java1.5+: use the OS proxy settings\n</code></pre>\n\n<p>The following Ant switches are \"inherited\" certain Sencha Command configuration properties\nor switches:</p>\n\n<pre><code>-quiet, -q             sencha -quiet ant\n-verbose, -v           sencha -debug ant\n-emacs, -e             sencha -plain ant\n</code></pre>\n\n<p>The following Ant switches are not supported:</p>\n\n<pre><code>-find &lt;file&gt;           (s)earch for buildfile towards the root of\n  -s  &lt;file&gt;           the filesystem and use it\n</code></pre>\n"});